name: bot CodeQL configuration

paths-ignore:
  # Ignore Git metadata everywhere in the checkout so that CodeQL never walks
  # into reference logs for remote branches that happen to end with the .py
  # suffix. Those logs are plain text, but the extractor interprets the file
  # extension literally and attempts to parse them as Python modules, which
  # surfaces hundreds of misleading syntax errors. Explicitly excluding all
  # .git directories (and everything under them) keeps the analysis focused on
  # real source files while remaining resilient to future branch names.
  - .git/**
  - '**/.git/**'
  - '**/.git/logs/**'
  # The test-suite exercises hundreds of fixtures and mocks that explode the
  # control-flow graph that CodeQL has to explore.  The security query suite
  # regularly times out on those synthetic paths, which shows up as "execution
  # errors" even though the production modules finish quickly.  Excluding the
  # tests keeps the database small enough for the packaged queries to run to
  # completion.
  - tests/**
  # Patched tarballs and diff payloads that we vendor for our Docker images are
  # not Python source files, but their ``.patch`` suffix is still eligible for
  # extraction.  Skipping them avoids wasting analysis time on non-code assets
  # and prevents the extractor from emitting malformed modules that used to
  # trip CodeQL's evaluator.
  - docker/patches/**
queries:
  # Limit analysis to the security query suite so we focus on actionable
  # vulnerabilities while avoiding purely stylistic "quality" alerts.
  - uses: security-extended
